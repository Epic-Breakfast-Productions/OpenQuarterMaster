service:
  version: ${quarkus.application.version}
  apiVersion: 1.0.0
  gitLink: https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster


quarkus:
  application:
    name: OQM MSS Controller Plugin
  rest-client:
    upc-barcodelookup-com:
      url: ${baseStation.baseUrl}
      scope: jakarta.inject.Singleton # TODO:: change this
  log:
    level: DEBUG
    console:
      format: "%d{HH:mm:ss} [%-5p][%-16X{traceId}|%-2X{parentId}|%-16X{spanId}|%-5X{sampled}][%-40c{2.}|%-26t]():: %s%e%n"
  scheduler:
    metrics:
      enabled: true
  # https://quarkus.io/guides/openapi-swaggerui
  smallrye-openapi:
    info-title: OQM MSS Controller Plugin API
    info-version: ${service.apiVersion}
    info-description: API documentation for the Open QuarterMaster Modular Storage System Controller Plugin. Running with service version ${service.version}
    #    info-terms-of-service: <url>
    info-contact-email: greg@epic-breakfast-productions.tech
    info-contact-name: EBP
    info-contact-url: ${service.gitLink}
    info-license-name: GNU General Public License v3.0
    info-license-url: ${service.gitLink}/blob/main/LICENSE
    security-scheme: jwt
    security-scheme-name: JwtAuth
  swagger-ui:
    always-include: true
    title: ${quarkus.smallrye-openapi.info-title} v${service.apiVersion}
    theme: flattop
    footer: With ❤️, EBP
  http:
    limits:
      max-body-size: 95M
    auth:
      proactive: false
      permission:
        logout:
          paths: ${quarkus.oidc.logout.path}
          policy: authenticated
    access-log:
      enabled: true
#    port: 80
#    ssl-port: 443
  oidc:
    application-type: hybrid
    token-state-manager:
      split-tokens: true
    logout:
      path: /logout
      post-logout-path: ${baseStation.baseUrl}/?message=You%20have%20successfully%20logged%20out&messageType=success&messageHeading=Logged%20Out
  
"%dev":
  baseStation:
    baseUrl: https://oqm-demo.local
  moduleConfig:
    serial:
      modules:
        - portPath: "/dev/ttyACM0"
          baudRate: 115200
  quarkus:
    application:
      name: ${service.nameShort} - V${service.apiVersion} - DEV
    http:
      port: 8080
    log:
      level: DEBUG
    oidc:
      client-id: oqm-app
      credentials:
        secret: "**********"
      auth-server-url: http://oqm-demo.local:8115/realms/oqm
