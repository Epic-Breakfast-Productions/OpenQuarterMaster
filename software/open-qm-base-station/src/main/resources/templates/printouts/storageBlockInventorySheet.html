{#include printouts/mainPrintoutTemplate}
	{#title}{storageBlock.getLabelText()} - Inventory sheet{/title}
	{#body}
		<h1>
			{storageBlock.getLabelText()} - Inventory sheet
		</h1>
		<p>Total Items: {searchResult.getNumResultsForEntireQuery()}</p>
		{#if searchResult.isEmpty()}
			<h3>
				No Items Stored
			</h3>
			{#else}
			{#let simpleAmountItemList=searchResult.getResults().stream().filter(simpleAmountFilter).toArray()}
				{! TODO:: finish this, do other types !}
				<h3 class="tableTitle">Simple Amount Items ({simpleAmountItemList.length})</h3>
				<table class="table table-striped table-bordered table-sm">
				<thead>
				<tr>
					{#if options.includeNumCol}
						<th>
							#
						</th>
					{/if}
					{#if options.includeImageCol}
						<th class="imageTableCellHeader">
							Image
						</th>
					{/if}
					<th>
						Item
					</th>
					<th>
						Amount Stored
					</th>
					{#if options.includeConditionCol}
						<th>
							Condition
						</th>
					{/if}
				</tr>
				</thead>
				<tbody>
				{#for curItem in simpleAmountItemList}
					{#let curWrapper = curItem.getStoredWrapperForStorage(storageBlock.getId())}
						<tr>
						{#if options.includeNumCol}
							<td class="text-center">
							{curItem_count}
							</td>
						{/if}
						{#if options.includeImageCol}
							{#if ! curItem.getImageIds().isEmpty()}
								<td class="imageTableCell">
								{#let curImage = imageService.get(curItem.getImageIds().get(0))}
									<img src="data:{curImage.getMimeType()};base64, {curImage.getData()}" alt="Image for item {curItem.getName()}"
									class="imageTableCellImage">
								{/let}
								</td>
							{#else}
								<td></td>
							{/if}
						{/if}
						<td>
							{curItem.getName()}
						</td>
						<td>{curWrapper.getTotal().getValue()}{curWrapper.getTotal().getUnit().getSymbol()}</td>
						
						{#if options.includeConditionCol}
							<td>
							
							</td>
						{/if}
						
						</tr>
					{/let}
				{/for}
				</tbody>
				<tfoot>
				<tr>
				{#if options.includeNumCol}
					<th>
						#
					</th>
				{/if}
				{#if options.includeImageCol}
					<th class="imageTableCellHeader">
						Image
					</th>
				{/if}
				<th>
					Item
				</th>
				<th>
					Amount Stored
				</th>
				{#if options.includeConditionCol}
					<th>
						Condition
					</th>
				{/if}
			</tr>
				</tfoot>
				</table>
			{/let}
		
		{! TODO:: table per item type !}
		
		
		{/if}
	{/body}
{/include}