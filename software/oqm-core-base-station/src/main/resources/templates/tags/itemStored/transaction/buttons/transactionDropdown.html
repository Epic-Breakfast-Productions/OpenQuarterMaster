{! Inputs:
	item(optional),
	stored(optional),
	addButton=true checkinButton=true checkoutButton=true setButton=true subtractButton=true transferButton=true
!}
{#let itemId=itemId.or(item ? item.get("id").asText() : null) storedId=storedId.or(stored ? stored.get("id").asText() : null)}

<div class="dropdown transact-dropdown {overallClasses.or("")}" style="{overallStyles.or("")}">
	<button class="btn btn-secondary dropdown-toggle transactDropdown {dropdownClasses.or("")}" style="{dropdownStyles.or("")}" type="button" data-bs-toggle="dropdown" aria-expanded="false">
		{#icons/transaction /} {#if buttonText.or(true)}Transact{/if}
	</button>
	<ul class="dropdown-menu">
		{#if addButton.or(true)}
		<li>
			<button class="dropdown-item transactDropdownAdd" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionAddModal" onclick="ItemStoredTransaction.Add.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
				{#icons/transactionAdd /} Add
			</button>
		</li>
		{/if}
		{#if subtractButton.or(true)}
		<li>
			<button class="dropdown-item transactDropdownSubtract" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionSubtractModal" onclick="ItemStoredTransaction.Subtract.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
				{#icons/transactionSubtract /} Subtract
			</button>
		</li>
		{/if}
		{#if checkinButton.or(true) || checkoutButton.or(true)}
			<li><hr class="dropdown-divider transactDropdownCheckinoutDivider"></li>
			{#if checkoutButton.or(true)}
			<li>
				<button class="dropdown-item transactDropdownCheckout" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionCheckoutModal" onclick="ItemStoredTransaction.Checkout.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
					{#icons/transactionCheckout /} Checkout
				</button>
			</li>
			{/if}
			{#if checkinButton.or(true)}
			<li>
				<button class="dropdown-item transactDropdownCheckin" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionCheckinModal" onclick="ItemStoredTransaction.Checkin.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
					{#icons/transactionCheckin /} Checkin
				</button>
			</li>
			{/if}
		{/if}
		{#if transferButton.or(true) || setButton.or(true)}
			<li><hr class="dropdown-divider transactDropdownOtherDivider"></li>
			{#if transferButton.or(true)}
			<li>
				<button class="dropdown-item transactDropdownTransfer" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionTransferModal" onclick="ItemStoredTransaction.Transfer.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
					{#icons/transactionTransfer /} Transfer
				</button>
			</li>
			{/if}
			{#if setButton.or(true)}
			<li>
				<button class="dropdown-item transactDropdownSet" type="button" data-bs-toggle="modal" data-bs-target="#itemStoredTransactionSetModal" onclick="ItemStoredTransaction.Set.setupForm({#if itemId}'{itemId}'{#else}null{/if}, {#if storedId}'{storedId}'{#else}null{/if}, this);">
					{#icons/transactionSet /} Set
				</button>
			</li>
			{/if}
		{/if}
	</ul>
</div>
